стр 294
Репозитории формируют полезную абстракцию поверх базы данных. Пример использования репозиториев из нашего проекта CRM:
User user = _userRepository.GetUserById(userId);
_userRepository.SaveUser(user);
В конце концов, в этой функциональности могут присутствовать ошибки. Тем не менее такие тесты не добавят пользы
проекту из-за повышенных затрат на сопровождение и ухудшенной защиты от багов.
Обсудим эти два недостатка более подробно
На диаграмме классификации кода из главы 7 репозитории относятся к четверти
контроллеров (рис. 10.8) Они обладают низкой сложностью и взаимодействуют
с внепроцессной зависимостью — базой данных.

Репозитории не обладают особой сложностью, и значительная часть выигрыша
в защите от багов перекрывается с защитой